@use './variables' as *;

// Landscape Mode Optimizations
@media (orientation: landscape) {
  .game-container {
    min-height: 100vh;
    justify-content: flex-start;
    padding-top: 8px;
  }

  .game-header {
    margin: 0;
    z-index: $z-header;
    flex-shrink: 0;
  }

  main {
    width: 100%;
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    justify-content: center;
    gap: 12px;
    flex: 1;
    overflow-y: auto;
  }

  .board-area {
    width: auto;
    flex: 0 0 auto;
  }

  .hazard-stats {
    flex-direction: column;
    margin: 0;
    margin-top: 40px;
    gap: 6px;
    padding-right: 0;
    align-items: stretch;
  }

  .hazard-card {
    padding: clamp(3px, 1vw, 6px) clamp(5px, 1.2vw, 8px);
    width: auto;
  }

  .hazard-row {
    gap: clamp(2px, 0.8vw, 3px);
    font-size: clamp(0.6rem, 1.2vw, 0.85rem);

    img {
      width: clamp(12px, 1.8vw, 18px);
      height: clamp(12px, 1.8vw, 18px);
    }
  }

  .hazard-value {
    font-size: clamp(0.75rem, 1.5vw, 1rem);
  }

  .grid-board {
    gap: 6px;
    padding: 6px;
  }

  :root {
    --tile-size: clamp(24px, 5vh, 50px);
  }

  // Rupee modal adjustments for landscape
  .circular-modal-content {
    width: min(400px, 80vw, 90vh);
    height: min(400px, 80vw, 90vh);
    max-width: 400px;
    max-height: 400px;
  }

  .rupee-wheel {
    width: 85%;
    height: 85%;
  }

  .wheel-cancel {
    width: clamp(50px, 15%, 70px);
    height: clamp(50px, 15%, 70px);
    font-size: clamp(0.65rem, 2.5vw, 0.85rem);
  }
}

// Mobile portrait adjustments
@media (max-width: 600px) and (orientation: portrait) {
  .grid-board {
    max-width: calc(100vw - 16px);
    gap: 6px;
    padding: 8px;
  }

  :root {
    --tile-size: clamp(20px, 3.5vh, 50px);
  }

  .diggerarea {
    width: 100%;
    max-width: 100%;
    overflow: hidden;
  }

  .circular-modal-content {
    width: min(350px, 85vw);
    height: min(350px, 85vw);
    max-width: 350px;
    max-height: 350px;
  }

  .rupee-wheel {
    width: 85%;
    height: 85%;
  }

  .wheel-cancel {
    width: clamp(55px, 16%, 75px);
    height: clamp(55px, 16%, 75px);
    font-size: clamp(0.7rem, 2.8vw, 0.9rem);
  }

  .rupee-option-circular {
    width: clamp(55px, 16%, 75px);
    height: clamp(55px, 16%, 75px);
    padding: 6px;
    transform: rotate(var(--angle))
      translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1));

    &:hover {
      transform: rotate(var(--angle))
        translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1))
        scale(1.1);
    }

    &.selected {
      transform: rotate(var(--angle))
        translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1))
        scale(1.15);
    }

    &.disabled:hover {
      transform: rotate(var(--angle))
        translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1));
    }
  }
}

// Mobile portrait adjustments (original non-portrait specific)
@media (max-width: 600px) {
  .circular-modal-content {
    width: min(350px, 85vw);
    height: min(350px, 85vw);
    max-width: 350px;
    max-height: 350px;
  }

  .rupee-wheel {
    width: 85%;
    height: 85%;
  }

  .wheel-cancel {
    width: clamp(55px, 16%, 75px);
    height: clamp(55px, 16%, 75px);
    font-size: clamp(0.7rem, 2.8vw, 0.9rem);
  }

  .rupee-option-circular {
    width: clamp(55px, 16%, 75px);
    height: clamp(55px, 16%, 75px);
    padding: 6px;
    transform: rotate(var(--angle))
      translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1));

    &:hover {
      transform: rotate(var(--angle))
        translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1))
        scale(1.1);
    }

    &.selected {
      transform: rotate(var(--angle))
        translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1))
        scale(1.15);
    }

    &.disabled:hover {
      transform: rotate(var(--angle))
        translateY(calc(clamp(55px, 16%, 75px) * -2.2)) rotate(calc(var(--angle) * -1));
    }
  }
}

// Small viewport height adjustments
@media (max-height: 600px) {
  .game-container {
    min-height: auto;
    padding: 4px;
  }

  .game-header {
    margin-top: 8px;
    margin-bottom: 8px;

    h1 {
      font-size: clamp(2.5rem, 4vw, 3rem);
    }
  }

  .hazard-stats {
    margin-bottom: 8px;
  }

  .grid-board {
    gap: 4px;
    padding: 4px;
  }

  :root {
    --tile-size: clamp(28px, 6vh, 40px);
  }
}

// Extra small height (< 400px)
@media (max-height: 400px) {
  .game-container {
    padding: 2px;
  }

  .game-header {
    margin-bottom: 4px;

    h1 {
      font-size: clamp(2.5rem, 4vw, 3rem);
    }
  }

  .hazard-stats {
    margin-bottom: 4px;
  }

  .hazard-card {
    padding: 3px 5px;
  }

  .hazard-row {
    gap: 2px;
    font-size: 0.65rem;

    img {
      width: 12px;
      height: 12px;
    }
  }

  .hazard-value {
    font-size: 0.8rem;
  }

  .grid-board {
    gap: 3px;
    padding: 3px;
  }

  :root {
    --tile-size: clamp(22px, 5vh, 32px);
  }
}
